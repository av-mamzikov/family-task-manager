# üîê –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ GitHub Secrets –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è.

> ‚ö° **–ù—É–∂–Ω–∞ –∫—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è?** –°–º. [Quick Secrets Guide](QUICK_SECRETS_GUIDE.md)

## –ß—Ç–æ —Ç–∞–∫–æ–µ GitHub Secrets?

GitHub Secrets - —ç—Ç–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ GitHub Actions. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ
—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏).

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Settings** (‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏)

### –®–∞–≥ 2: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª Secrets

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **Secrets and variables**
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **Actions**
3. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∫–Ω–æ–ø–∫–æ–π **"New repository secret"**

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞:

1. –ù–∞–∂–º–∏—Ç–µ **"New repository secret"**
2. –í–≤–µ–¥–∏—Ç–µ **Name** (–∏–º—è —Å–µ–∫—Ä–µ—Ç–∞ - –ó–ê–ì–õ–ê–í–ù–´–ú–ò –ë–£–ö–í–ê–ú–ò)
3. –í–≤–µ–¥–∏—Ç–µ **Value** (–∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞)
4. –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

## –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤

### 1. VPS –∏ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

#### `VPS_HOST`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ VPS —Å–µ—Ä–≤–µ—Ä–∞
- **–ü—Ä–∏–º–µ—Ä:** `123.45.67.89`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:** IP –∞–¥—Ä–µ—Å –∏–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–∞

#### `VPS_USERNAME`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** SSH username –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPS
- **–ü—Ä–∏–º–µ—Ä:** `root` –∏–ª–∏ `ubuntu`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:** –û–±—ã—á–Ω–æ —ç—Ç–æ `root`, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

#### `VPS_SSH_KEY`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPS
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
  ```bash
  # –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
  cat ~/.ssh/id_rsa
  ```
- **–§–æ—Ä–º–∞—Ç:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–ª—é—á, –≤–∫–ª—é—á–∞—è —Å—Ç—Ä–æ–∫–∏:
  ```
  -----BEGIN OPENSSH PRIVATE KEY-----
  ...—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–ª—é—á–∞...
  -----END OPENSSH PRIVATE KEY-----
  ```
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –≠—Ç–æ –ü–†–ò–í–ê–¢–ù–´–ô –∫–ª—é—á, –Ω–µ –ø—É–±–ª–∏—á–Ω—ã–π! –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ VPS –≤ `~/.ssh/authorized_keys`

### 2. Docker Registry

#### `REGISTRY_USERNAME`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** Username –¥–ª—è Docker Registry
- **–ü—Ä–∏–º–µ—Ä:** `admin`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:** –í—ã —Å–æ–∑–¥–∞–ª–∏ –µ–≥–æ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ registry (—Å–º. `PRIVATE_REGISTRY_SETUP.md`)

#### `REGISTRY_PASSWORD`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–∞—Ä–æ–ª—å –¥–ª—è Docker Registry
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:** –ü–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞–ª–∏ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ registry
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å

### 3. Production –æ–∫—Ä—É–∂–µ–Ω–∏–µ

#### `TELEGRAM_BOT_TOKEN`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–æ–∫–µ–Ω production Telegram –±–æ—Ç–∞
- **–ü—Ä–∏–º–µ—Ä:** `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**
    1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
    2. –ù–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
    3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
    4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
    5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

#### `TELEGRAM_BOT_USERNAME`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** Username production –±–æ—Ç–∞ (–ë–ï–ó —Å–∏–º–≤–æ–ª–∞ @)
- **–ü—Ä–∏–º–µ—Ä:** `MyFamilyTaskBot`
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:** Username, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ—Ç–∞ —É @BotFather

#### `POSTGRES_USER`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** PostgreSQL username –¥–ª—è production –ë–î
- **–ü—Ä–∏–º–µ—Ä:** `familytask`
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω–æ–µ –∏–º—è, –Ω–µ `postgres`

#### `POSTGRES_PASSWORD`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL production –ë–î
- **–ü—Ä–∏–º–µ—Ä:** `SuperSecurePassword123!`
- **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:**
  ```bash
  # Linux/Mac
  openssl rand -base64 32
  
  # PowerShell
  -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | % {[char]$_})
  ```

## –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã (–¥–ª—è PR Preview)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PR Preview –æ–∫—Ä—É–∂–µ–Ω–∏—è:

#### `PR_BOT_TOKEN`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–æ–∫–µ–Ω —Ç–µ—Å—Ç–æ–≤–æ–≥–æ Telegram –±–æ—Ç–∞
- **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:** –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ —É @BotFather –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### `PR_BOT_USERNAME`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** Username —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ (–ë–ï–ó @)

#### `PR_POSTGRES_USER`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** PostgreSQL username –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
- **–ü—Ä–∏–º–µ—Ä:** `familytask_pr`

#### `PR_POSTGRES_PASSWORD`

- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–∞—Ä–æ–ª—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π PostgreSQL –ë–î

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤, –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫:

```
‚úÖ VPS_HOST
‚úÖ VPS_USERNAME
‚úÖ VPS_SSH_KEY
‚úÖ REGISTRY_USERNAME
‚úÖ REGISTRY_PASSWORD
‚úÖ TELEGRAM_BOT_TOKEN
‚úÖ TELEGRAM_BOT_USERNAME
‚úÖ POSTGRES_USER
‚úÖ POSTGRES_PASSWORD
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è PR Preview):**

```
‚úÖ PR_BOT_TOKEN
‚úÖ PR_BOT_USERNAME
‚úÖ PR_POSTGRES_USER
‚úÖ PR_POSTGRES_PASSWORD
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤)
- **–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã** (–∫–∞–∂–¥—ã–µ 3-6 –º–µ—Å—è—Ü–µ–≤)
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é —Ç–æ–ª—å–∫–æ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º –ª—é–¥—è–º

### ‚ùå –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –ø–∞—Ä–æ–ª–∏ (`password123`)
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è production –∏ testing
- ‚ùå –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ `.env` —Ñ–∞–π–ª–∞—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚ùå –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –Ω–µ–∑–∞—â–∏—â—ë–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã

## –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

### –ò–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
3. –ù–∞–∂–º–∏—Ç–µ **Update**
4. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
5. –ù–∞–∂–º–∏—Ç–µ **Update secret**

### –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Å–µ–∫—Ä–µ—Ç
3. –ù–∞–∂–º–∏—Ç–µ **Remove**
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ workflow

–°–µ–∫—Ä–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `.github/workflows/deploy-registry.yml`:

```yaml
# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- name: Deploy application
  env:
    BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
    POSTGRES_PASSWORD: ${{ secrets.POSTGRES_PASSWORD }}
  run: |
    echo "Deploying with bot token: ${BOT_TOKEN:0:10}..."
```

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** GitHub –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –ª–æ–≥–∞—Ö workflow.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions**
2. –í—ã–±–µ—Ä–∏—Ç–µ **Deploy to VPS**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –Ω–∞–∂–º–∏—Ç–µ **Run workflow**
5. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –¥–µ–ø–ª–æ–π –ø—Ä–æ–π–¥—ë—Ç —É—Å–ø–µ—à–Ω–æ ‚úÖ

## Troubleshooting

### –û—à–∏–±–∫–∞: "Secret not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–∫—Ä–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ workflow

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–º—è —Å–µ–∫—Ä–µ—Ç–∞ –Ω–∞–ø–∏—Å–∞–Ω–æ –ó–ê–ì–õ–ê–í–ù–´–ú–ò –±—É–∫–≤–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (—Ç–∞–º —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É)

### –û—à–∏–±–∫–∞: "Permission denied (publickey)"

**–ü—Ä–æ–±–ª–µ–º–∞:** SSH –∫–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏ –ü–†–ò–í–ê–¢–ù–´–ô –∫–ª—é—á –≤ `VPS_SSH_KEY`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ü–£–ë–õ–ò–ß–ù–´–ô –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ VPS:
   ```bash
   ssh root@–≤–∞—à_ip
   cat ~/.ssh/authorized_keys
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã:
   ```bash
   chmod 700 ~/.ssh
   chmod 600 ~/.ssh/authorized_keys
   ```

### –û—à–∏–±–∫–∞: "Registry authentication failed"

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —É–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ Docker Registry

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `REGISTRY_USERNAME` –∏ `REGISTRY_PASSWORD`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ registry —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ VPS:
   ```bash
   ssh root@–≤–∞—à_ip
   docker ps | grep registry
   curl http://localhost:5000/v2/_catalog
   ```

### –û—à–∏–±–∫–∞: "Bot token is invalid"

**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ–≤–µ—Ä–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω —É @BotFather: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/token`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ —Ç–æ–∫–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### GitHub Environments

–î–ª—è –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub Environments:

1. **Settings** ‚Üí **Environments** ‚Üí **New environment**
2. –°–æ–∑–¥–∞–π—Ç–µ `production` environment
3. –î–æ–±–∞–≤—å—Ç–µ protection rules:
    - ‚úÖ Required reviewers (—Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
    - ‚úÖ Wait timer (–∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º)
    - ‚úÖ Deployment branches (—Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏)

### Organization Secrets

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **Organization**
2. **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
4. –í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –º–æ–≥—É—Ç –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤:

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
4. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ VPS

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üìñ [GitHub Actions Setup](GITHUB_ACTIONS_SETUP.md)
- üîí [Private Registry Setup](../PRIVATE_REGISTRY_SETUP.md)
- üñ•Ô∏è [VPS Setup](VPS_SETUP.md)
- ü§ñ [Telegram Bot Setup](../TELEGRAM_BOT_SETUP.md)

## –ß–µ–∫-–ª–∏—Å—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```
‚ñ° VPS_HOST –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° VPS_USERNAME –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° VPS_SSH_KEY –¥–æ–±–∞–≤–ª–µ–Ω (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á)
‚ñ° –ü—É–±–ª–∏—á–Ω—ã–π SSH –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ VPS
‚ñ° REGISTRY_USERNAME –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° REGISTRY_PASSWORD –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° TELEGRAM_BOT_TOKEN –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° TELEGRAM_BOT_USERNAME –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° POSTGRES_USER –¥–æ–±–∞–≤–ª–µ–Ω
‚ñ° POSTGRES_PASSWORD –¥–æ–±–∞–≤–ª–µ–Ω (—Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å)
‚ñ° –¢–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω
‚ñ° –î–µ–ø–ª–æ–π –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ
‚ñ° –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
```

---

**üéâ –ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions.
