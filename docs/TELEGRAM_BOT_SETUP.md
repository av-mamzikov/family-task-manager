# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –±–æ—Ç–∞ –¥–ª—è Family Task Manager.

## –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Telegram** –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)

2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É** `/newbot`

3. **–í—ã–±–µ—Ä–∏—Ç–µ –∏–º—è –±–æ—Ç–∞** (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤)
   ```
   Family Task Manager
   ```

4. **–í—ã–±–µ—Ä–∏—Ç–µ username** (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`)
   ```
   family_task_manager_bot
   ```

5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   ```
   1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   ```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setcommands` –≤ @BotFather, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ:

```
start - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
family - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–º—å–µ–π
tasks - –ú–æ–∏ –∑–∞–¥–∞—á–∏
pet - –ú–æ–π –ø–∏—Ç–æ–º–µ—Ü
stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
help - –ü–æ–º–æ—â—å
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è

### –ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setdescription` –≤ @BotFather:

```
üè† –°–µ–º–µ–π–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á
–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–¥–∞—á–∏, –Ω–∞–∑–Ω–∞—á–∞–π—Ç–µ –∏—Ö —á–ª–µ–Ω–∞–º —Å–µ–º—å–∏ –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º. –ó–∞–≤–æ–¥–∏—Ç–µ –ø–∏—Ç–æ–º—Ü–∞ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –æ—á–∫–∏ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á!
```

### –û –±–æ—Ç–µ (About)

–û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setabouttext` –≤ @BotFather:

```
Family Task Manager - —Å–µ–º–µ–π–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á —Å –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–µ–π.

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏
‚Ä¢ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –ø–∏—Ç–æ–º—Ü—ã
‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥
‚Ä¢ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –¥–µ—Ç–µ–π —á–µ—Ä–µ–∑ –∏–≥—Ä–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏.
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 512x512 px
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/setuserpic` –≤ @BotFather
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
cd src/FamilyTaskManager.Host
dotnet user-secrets set "Bot:BotToken" "YOUR_BOT_TOKEN"
dotnet user-secrets set "Bot:BotUsername" "your_bot_username"
```

### –î–ª—è production (GitHub Secrets)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `Settings` ‚Üí `Secrets and variables` ‚Üí `Actions`
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç `TELEGRAM_BOT_TOKEN` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç `TELEGRAM_BOT_USERNAME` —Å username –±–æ—Ç–∞ (–±–µ–∑ @)

## –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ –¥–ª—è PR Preview

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞:

1. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ –≤—ã—à–µ —Å –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º:
   ```
   Family Task Manager Test
   family_task_manager_test_bot
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ GitHub Secrets:
    - `PR_BOT_TOKEN` - —Ç–æ–∫–µ–Ω —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
    - `PR_BOT_USERNAME` - username —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞

### –õ–æ–∫–∞–ª—å–Ω–æ

```bash
cd src/FamilyTaskManager.Host
dotnet run
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

### –ù–∞ production

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ production –±–æ—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞   | –û–ø–∏—Å–∞–Ω–∏–µ                                            |
|-----------|-----------------------------------------------------|
| `/start`  | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è                  |
| `/family` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–º—å–µ–π (—Å–æ–∑–¥–∞—Ç—å, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è, —Å–ø–∏—Å–æ–∫) |
| `/tasks`  | –ú–æ–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏                                 |
| `/pet`    | –ú–æ–π –ø–∏—Ç–æ–º–µ—Ü (—Å–æ–∑–¥–∞—Ç—å, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –ø–æ–∫–æ—Ä–º–∏—Ç—å)        |
| `/stats`  | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥                              |
| `/help`   | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º                                 |

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Å–µ–º—å–∏

- –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–µ–º—å–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ @BotFather:

1. **–†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—ã** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   ```
   /setjoingroups
   ```
   –í—ã–±–µ—Ä–∏—Ç–µ: `Enable` –∏–ª–∏ `Disable`

2. **–†–µ–∂–∏–º –≥—Ä—É–ø–ø—ã** (–µ—Å–ª–∏ –±–æ—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö)
   ```
   /setprivacy
   ```
   –í—ã–±–µ—Ä–∏—Ç–µ: `Enable` (–±–æ—Ç –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥—ã) –∏–ª–∏ `Disable` (–±–æ—Ç –≤–∏–¥–∏—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è)

## Webhook vs Long Polling

### Long Polling (—Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ü—Ä–æ—â–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç HTTPS
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∑–∞ NAT

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**

- ‚ùå –ë–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### Webhook (–¥–ª—è production)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- ‚úÖ –õ—É—á—à–µ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**

- ‚ùå –¢—Ä–µ–±—É–µ—Ç HTTPS
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π IP/–¥–æ–º–µ–Ω

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook (–±—É–¥—É—â–µ–µ):**

```bash
curl -F "url=https://yourdomain.com/bot/webhook" \
     https://api.telegram.org/bot<TOKEN>/setWebhook
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞

```bash
curl https://api.telegram.org/bot<TOKEN>/getMe
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```bash
curl https://api.telegram.org/bot<TOKEN>/getUpdates
```

### –õ–æ–≥–∏ –±–æ—Ç–∞

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
dotnet run

# –ù–∞ VPS
docker compose -f docker-compose.prod.yml logs family-task-manager -f
```

## Troubleshooting

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:**
   ```bash
   curl https://api.telegram.org/bot<TOKEN>/getMe
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker compose logs family-task-manager -f
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   docker compose ps
   ```

### –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ webhook

### –ö–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–º–∞–Ω–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ @BotFather
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω (`/start`)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ —Ç–æ–∫–µ–Ω–∞

- ‚ùå **–ù–∏–∫–æ–≥–¥–∞** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ git
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ user-secrets –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub Secrets –¥–ª—è CI/CD
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ environment variables –Ω–∞ production

### –†–æ—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞

–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/revoke` –≤ @BotFather
2. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub
4. –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –õ–∏–º–∏—Ç—ã Telegram Bot API

- **–°–æ–æ–±—â–µ–Ω–∏—è:** 30 —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫—É–Ω–¥—É
- **–û–¥–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:** 1 —Å–æ–æ–±—â–µ–Ω–∏–µ/—Å–µ–∫—É–Ω–¥—É
- **–†–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è:** 4096 —Å–∏–º–≤–æ–ª–æ–≤
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** 50 MB (–¥–ª—è –±–æ—Ç–æ–≤)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Telegram Bot API Documentation](https://core.telegram.org/bots/api)
- [BotFather Commands](https://core.telegram.org/bots#botfather)
- [Telegram.Bot Library](https://github.com/TelegramBots/Telegram.Bot)

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

- üöÄ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](../QUICK_START.md)
- üñ•Ô∏è [VPS Setup](setup/VPS_SETUP.md)
- ü§ñ [GitHub Actions Setup](setup/GITHUB_ACTIONS_SETUP.md)
