# –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è Bot Flow —Ç–µ—Å—Ç–æ–≤ (Telegram Bot —É—Ä–æ–≤–µ–Ω—å)

> –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∫–≤–æ–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —á–µ—Ä–µ–∑ Telegram Bot.
> –¢–µ—Å—Ç—ã —Å–∏–º—É–ª–∏—Ä—É—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±–æ—Ç–æ–º —á–µ—Ä–µ–∑ `TestTelegramBotClient`.

## –¶–µ–ª—å —Ç–µ—Å—Ç–æ–≤

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–≤–æ–∑–Ω—ã—Ö user journeys (Update ‚Üí Handler ‚Üí ConversationFlow ‚Üí UseCase ‚Üí Bot Response)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–Ω–æ–ø–æ–∫ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è conversation –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ UX –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Bot Flow —Ç–µ—Å—Ç–∞

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç —Å–∏–º—É–ª–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π:

```csharp
// 1. –û—Ç–ø—Ä–∞–≤–∫–∞ Update (—Ç–µ–∫—Å—Ç/callback)
var update = CreateTextUpdate(chatId, userId, "/start");
await updateHandler.HandleUpdateAsync(botClient, update, CancellationToken.None);

// 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ –±–æ—Ç–∞
var response = botClient.GetLastMessageTo(chatId);
response.Text.ShouldContain("–û–∂–∏–¥–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç");

// 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
var family = await dbContext.Families.FirstOrDefaultAsync(...);
family.ShouldNotBeNull();
```

---

## 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏

### TS-BOT-001: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–ø–µ—Ä–≤—ã–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ User –≤ –ë–î

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–Ω–æ–ø–∫—É "‚ûï –°–æ–∑–¥–∞—Ç—å —Å–µ–º—å—é"
- –í –ë–î —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å `User` —Å `telegramId`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```csharp
[Fact]
public async Task BotFlow_FirstStart_ShouldRegisterUserAndShowWelcome()
{
  // Arrange
  var userId = 123456L;
  var chatId = 123456L;
  
  // Act - Send /start
  var startUpdate = CreateTextUpdate(chatId, userId, "/start");
  await updateHandler.HandleUpdateAsync(botClient, startUpdate, CancellationToken.None);
  
  // Assert - Check bot response
  var response = botClient.GetLastMessageTo(chatId);
  response.Text.ShouldContain("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å");
  response.ReplyMarkup.ShouldNotBeNull();
  
  var keyboard = response.ReplyMarkup as InlineKeyboardMarkup;
  keyboard.InlineKeyboard.ShouldContain(row => 
    row.Any(btn => btn.Text.Contains("–°–æ–∑–¥–∞—Ç—å —Å–µ–º—å—é")));
  
  // Assert - Check DB
  var user = await dbContext.Users.FirstOrDefaultAsync(u => u.TelegramId == userId);
  user.ShouldNotBeNull();
}
```

---

### TS-BOT-002: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π —Å–µ–º—å–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Å–µ–º—å—è—Ö  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start`
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "‚ûï –°–æ–∑–¥–∞—Ç—å —Å–µ–º—å—é"
3. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º—å–∏ "–°–µ–º—å—è –ò–≤–∞–Ω–æ–≤—ã—Ö"
4. –í—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è timezone (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏")
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º—å–∏
- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –≤—ã–±–æ—Ä timezone
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º—å–∏
- –í –ë–î —Å–æ–∑–¥–∞–Ω–∞ —Å–µ–º—å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–∞–∫ Admin
- –ë–æ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏–ª —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```csharp
[Fact]
public async Task BotFlow_CreateFirstFamily_ShouldCompleteFullConversation()
{
  // Arrange
  var userId = 123456L;
  var chatId = 123456L;
  
  // Act & Assert - Step 1: Click "Create Family"
  var createFamilyCallback = CreateCallbackUpdate(chatId, userId, "create_family");
  await updateHandler.HandleUpdateAsync(botClient, createFamilyCallback, CancellationToken.None);
  
  var response1 = botClient.GetLastMessageTo(chatId);
  response1.Text.ShouldContain("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º—å–∏");
  
  // Act & Assert - Step 2: Enter family name
  var nameUpdate = CreateTextUpdate(chatId, userId, "–°–µ–º—å—è –ò–≤–∞–Ω–æ–≤—ã—Ö");
  await updateHandler.HandleUpdateAsync(botClient, nameUpdate, CancellationToken.None);
  
  var response2 = botClient.GetLastMessageTo(chatId);
  response2.Text.ShouldContain("–≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–æ–Ω—É");
  
  // Act & Assert - Step 3: Select timezone
  var timezoneCallback = CreateCallbackUpdate(chatId, userId, "tz:Europe/Moscow");
  await updateHandler.HandleUpdateAsync(botClient, timezoneCallback, CancellationToken.None);
  
  var finalResponse = botClient.GetLastMessageTo(chatId);
  finalResponse.Text.ShouldContain("–°–µ–º—å—è —Å–æ–∑–¥–∞–Ω–∞");
  finalResponse.Text.ShouldContain("–°–µ–º—å—è –ò–≤–∞–Ω–æ–≤—ã—Ö");
  
  // Assert - Check DB
  var family = await dbContext.Families
    .Include(f => f.Members)
    .FirstOrDefaultAsync(f => f.Name == "–°–µ–º—å—è –ò–≤–∞–Ω–æ–≤—ã—Ö");
  
  family.ShouldNotBeNull();
  family.Timezone.ShouldBe("Europe/Moscow");
  family.Members.ShouldContain(m => m.UserId == Guid.Parse(userId.ToString()) && m.Role == FamilyRole.Admin);
}
```

---

### TS-BOT-003: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º—å–∏  
**–®–∞–≥–∏:**

1. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏
2. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ "–ê–±" (< 3 —Å–∏–º–≤–æ–ª–æ–≤)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è
- –°–µ–º—å—è –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ –ë–î

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-004: –í—ã–±–æ—Ä timezone —á–µ—Ä–µ–∑ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç —Å–µ–º—å—é  
**–®–∞–≥–∏:**

1. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏
2. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ
3. –í—ã–±—Ä–∞—Ç—å "üìç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏"
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é (location update)

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –±–æ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏–ª timezone
- –°–µ–º—å—è —Å–æ–∑–¥–∞–Ω–∞ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º timezone
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 2. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### TS-BOT-005: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è invite-—Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–ª—è–µ—Ç—Å—è Admin —Å–µ–º—å–∏  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/family`
2. –ù–∞–∂–∞—Ç—å "üîó –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ"
3. –í—ã–±—Ä–∞—Ç—å —Ä–æ–ª—å "–í–∑—Ä–æ—Å–ª—ã–π"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ —Å invite-—Å—Å—ã–ª–∫–æ–π
- –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏: `t.me/bot_name?start=invite_CODE`
- –í –ë–î —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å `FamilyInvite` —Å `isActive = true`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-006: –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —Å–µ–º—å–µ –ø–æ invite-—Å—Å—ã–ª–∫–µ

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª invite-—Å—Å—ã–ª–∫—É  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start invite_CODE`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ë–æ—Ç –¥–æ–±–∞–≤–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ–º—å—é —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ä–æ–ª—å—é
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Å–µ–º—å–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ
- –í –ë–î `FamilyInvite.isActive = false`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-007: –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–æ–¥—É

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/start invite_INVALID_CODE`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ë–æ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏–ª —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Å–µ–º—å—é
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∏ –≤ –æ–¥–Ω—É —Å–µ–º—å—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏

### TS-BOT-008: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Å–µ–º—å–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/family`
2. –ù–∞–∂–∞—Ç—å "üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ–∫–∞–∑–∞–Ω—ã: –∏–º—è, —Ä–æ–ª—å, –æ—á–∫–∏
- –ê–¥–º–∏–Ω—É –¥–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—É–¥–∞–ª–∏—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-009: –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** Admin –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤  
**–®–∞–≥–∏:**

1. –û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
2. –í—ã–±—Ä–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
3. –ù–∞–∂–∞—Ç—å "–£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞"
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞ –∏ –ë–î

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É–¥–∞–ª–µ–Ω–∏–∏
- –í –ë–î `FamilyMember.isActive = false`
- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 4. –ü–∏—Ç–æ–º—Ü—ã

### TS-BOT-010: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –°–µ–º—å—è —Å–æ–∑–¥–∞–Ω–∞, –ø–∏—Ç–æ–º—Ü–µ–≤ –Ω–µ—Ç  
**–®–∞–≥–∏:**

1. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞" (–ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º—å–∏)
2. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø "üê± –ö–æ—Ç"
3. –í–≤–µ—Å—Ç–∏ –∏–º—è "–ú—É—Ä–∑–∏–∫"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–∏—Ç–æ–º—Ü–∞
- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –∏–º—è –ø–∏—Ç–æ–º—Ü–∞
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
- –ë–æ—Ç –ø–æ–∫–∞–∑–∞–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∏—Ç–æ–º—Ü–µ (–Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ = 100)
- –í –ë–î —Å–æ–∑–¥–∞–Ω `Pet` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ `TaskTemplate`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-011: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∏—Ç–æ–º—Ü–µ

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –í —Å–µ–º—å–µ –µ—Å—Ç—å –ø–∏—Ç–æ–º–µ—Ü  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/pet`
2. –í—ã–±—Ä–∞—Ç—å –ø–∏—Ç–æ–º—Ü–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∏—Ç–æ–º—Ü–µ:
    - –ò–º—è –∏ —Ç–∏–ø
    - –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ (—Å —ç–º–æ–¥–∑–∏)
    - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
    - –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-012: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–∏—Ç–æ–º—Ü–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** Admin –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –ø–∏—Ç–æ–º—Ü–∞  
**–®–∞–≥–∏:**

1. –û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–∏—Ç–æ–º—Ü–µ
2. –ù–∞–∂–∞—Ç—å "–ò–∑–º–µ–Ω–∏—Ç—å"
3. –í–≤–µ—Å—Ç–∏ –Ω–æ–≤–æ–µ –∏–º—è "–ë–∞—Ä—Å–∏–∫"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –Ω–æ–≤–æ–µ –∏–º—è
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –í –ë–î `Pet.name` –æ–±–Ω–æ–≤–ª–µ–Ω–æ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2

---

## 5. –ó–∞–¥–∞—á–∏

### TS-BOT-013: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–æ–≤–æ–π –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** Admin –∏–ª–∏ Adult –≤ —Å–µ–º—å–µ  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/tasks`
2. –ù–∞–∂–∞—Ç—å "‚ûï –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"
3. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø "–†–∞–∑–æ–≤–∞—è"
4. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ "–ü–æ–ª–∏—Ç—å —Ü–≤–µ—Ç—ã"
5. –í–≤–µ—Å—Ç–∏ –æ—á–∫–∏ "10"
6. –í—ã–±—Ä–∞—Ç—å –ø–∏—Ç–æ–º—Ü–∞
7. –£–∫–∞–∑–∞—Ç—å —Å—Ä–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –ø—Ä–æ–≤—ë–ª —á–µ—Ä–µ–∑ –≤—Å–µ —à–∞–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
- –í –ë–î —Å–æ–∑–¥–∞–Ω `TaskInstance` —Å —Ç–∏–ø–æ–º `OneTime`
- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-014: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –∑–∞–¥–∞—á–∏

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** Admin —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á—É  
**–®–∞–≥–∏:**

1. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
2. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø "–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è"
3. –í–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ "–ü–æ–∫–æ—Ä–º–∏—Ç—å –∫–æ—Ç–∞"
4. –í–≤–µ—Å—Ç–∏ –æ—á–∫–∏ "5"
5. –í—ã–±—Ä–∞—Ç—å –ø–∏—Ç–æ–º—Ü–∞
6. –í—ã–±—Ä–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 9:00"
7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –ø—Ä–æ–≤—ë–ª —á–µ—Ä–µ–∑ –≤—Å–µ —à–∞–≥–∏
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è
- –í –ë–î —Å–æ–∑–¥–∞–Ω `TaskTemplate` —Å cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω –ø–µ—Ä–≤—ã–π `TaskInstance`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-015: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –í —Å–µ–º—å–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/tasks`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
- –ó–∞–¥–∞—á–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º:
    - üÜï –ê–∫—Ç–∏–≤–Ω—ã–µ (Available)
    - üîÑ –í —Ä–∞–±–æ—Ç–µ (InProgress)
- –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –ø–æ–∫–∞–∑–∞–Ω—ã: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ—á–∫–∏, –ø–∏—Ç–æ–º–µ—Ü, —Å—Ä–æ–∫
- –î–æ—Å—Ç—É–ø–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (–≤–∑—è—Ç—å, –≤—ã–ø–æ–ª–Ω–∏—Ç—å)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-016: –í–∑—è—Ç–∏–µ –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç—É

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –£—á–∞—Å—Ç–Ω–∏–∫ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á  
**–®–∞–≥–∏:**

1. –û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
2. –í—ã–±—Ä–∞—Ç—å –∑–∞–¥–∞—á—É
3. –ù–∞–∂–∞—Ç—å "‚úã –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–∑—è—Ç–∏—è –∑–∞–¥–∞—á–∏
- –ë–æ—Ç –ø–æ–∫–∞–∑–∞–ª –∫–Ω–æ–ø–∫—É "‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å"
- –í –ë–î `TaskInstance.status = InProgress`
- –í –ë–î `TaskInstance.assignedTo` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-017: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ —Å—Ä–æ–∫

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –£—á–∞—Å—Ç–Ω–∏–∫ –≤–∑—è–ª –∑–∞–¥–∞—á—É, —Å—Ä–æ–∫ –Ω–µ –∏—Å—Ç—ë–∫  
**–®–∞–≥–∏:**

1. –í–∑—è—Ç—å –∑–∞–¥–∞—á—É
2. –ù–∞–∂–∞—Ç—å "‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å"
3. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≤–≤–µ—Å—Ç–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ë–æ—Ç –ø–æ–∫–∞–∑–∞–ª –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ—á–∫–∏ (–ø–æ–ª–Ω—ã–µ)
- –ë–æ—Ç –ø–æ–∫–∞–∑–∞–ª –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞
- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –í –ë–î `TaskInstance.status = Completed`
- –í –ë–î `FamilyMember.points` —É–≤–µ–ª–∏—á–µ–Ω—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-018: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –£—á–∞—Å—Ç–Ω–∏–∫ –≤–∑—è–ª –∑–∞–¥–∞—á—É, —Å—Ä–æ–∫ –∏—Å—Ç—ë–∫  
**–®–∞–≥–∏:**

1. –í–∑—è—Ç—å –∑–∞–¥–∞—á—É
2. –î–æ–∂–¥–∞—Ç—å—Å—è –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ (–∏–ª–∏ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å)
3. –ù–∞–∂–∞—Ç—å "‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å"
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ë–æ—Ç –ø–æ–∫–∞–∑–∞–ª –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ—á–∫–∏ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 50%)
- –ë–æ—Ç –ø–æ–∫–∞–∑–∞–ª –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø—Ä–æ—Å—Ä–æ—á–∫–µ
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞ —á–∞—Å—Ç–∏—á–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-019: –ü–æ–ø—ã—Ç–∫–∞ –≤–∑—è—Ç—å –∑–∞–¥–∞—á—É, —É–∂–µ –≤–∑—è—Ç—É—é –¥—Ä—É–≥–∏–º

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ó–∞–¥–∞—á–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ InProgress —É –¥—Ä—É–≥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞  
**–®–∞–≥–∏:**

1. –ü–µ—Ä–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –±–µ—Ä—ë—Ç –∑–∞–¥–∞—á—É
2. –í—Ç–æ—Ä–æ–π —É—á–∞—Å—Ç–Ω–∏–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–∑—è—Ç—å —Ç—É –∂–µ –∑–∞–¥–∞—á—É
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —á—Ç–æ –∑–∞–¥–∞—á–∞ —É–∂–µ –≤–∑—è—Ç–∞
- –ó–∞–¥–∞—á–∞ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞ –≤ –ë–î

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-020: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∑–∞–¥–∞—á–∏

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** Admin –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∑–∞–¥–∞—á—É –≤ —Å—Ç–∞—Ç—É—Å–µ Active  
**–®–∞–≥–∏:**

1. –û—Ç–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á—É
2. –ù–∞–∂–∞—Ç—å "–ò–∑–º–µ–Ω–∏—Ç—å"
3. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ—á–∫–∏
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –ø—Ä–æ–≤—ë–ª —á–µ—Ä–µ–∑ —à–∞–≥–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –í –ë–î `TaskInstance` –æ–±–Ω–æ–≤–ª—ë–Ω

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 6. –õ–∏–¥–µ—Ä–±–æ—Ä–¥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### TS-BOT-021: –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –í —Å–µ–º—å–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –æ—á–∫–∞–º–∏  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/stats`
2. –ù–∞–∂–∞—Ç—å "üìä –õ–∏–¥–µ—Ä–±–æ—Ä–¥"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –æ—á–∫–∞–º–∏
- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —É–±—ã–≤–∞–Ω–∏—é –æ—á–∫–æ–≤
- –ü–æ–∫–∞–∑–∞–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ (ü•áü•àü•â –¥–ª—è —Ç–æ–ø-3)
- –£–¥–∞–ª—ë–Ω–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-022: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –æ—á–∫–æ–≤

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –£—á–∞—Å—Ç–Ω–∏–∫ –≤—ã–ø–æ–ª–Ω–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á  
**–®–∞–≥–∏:**

1. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "‚≠ê –ú–æ–∏ –æ—á–∫–∏" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—á–∫–∞—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞
- –ü–æ–∫–∞–∑–∞–Ω–∞ –ø–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ (–µ—Å–ª–∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥ –≤–∫–ª—é—á—ë–Ω)
- –ü–æ–∫–∞–∑–∞–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞—á, –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ –æ—á–∫–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-023: –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –í —Å–µ–º—å–µ –µ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/stats`
2. –ù–∞–∂–∞—Ç—å "üìú –ò—Å—Ç–æ—Ä–∏—è"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π (–¥–æ 100)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –ø–æ–∫–∞–∑–∞–Ω—ã: —Ç–∏–ø, –æ–ø–∏—Å–∞–Ω–∏–µ, –≤—Ä–µ–º—è
- –î–æ—Å—Ç—É–ø–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã (–ø–æ —É—á–∞—Å—Ç–Ω–∏–∫—É, –ø–æ –ø–µ—Ä–∏–æ–¥—É)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 7. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### TS-BOT-024: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –∑–∞–¥–∞—á–µ –∑–∞ 1 —á–∞—Å

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –°—É—â–µ—Å—Ç–≤—É–µ—Ç –∑–∞–¥–∞—á–∞ —Å `dueAt` —á–µ—Ä–µ–∑ 1 —á–∞—Å  
**–®–∞–≥–∏:**

1. –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É —Å `dueAt` —á–µ—Ä–µ–∑ 1 —á–∞—Å
2. –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Å–µ–º—å–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏, —Å—Ä–æ–∫, –ø–∏—Ç–æ–º—Ü–∞
- –í `TestTelegramBotClient.SentMessages` –µ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-025: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –£—á–∞—Å—Ç–Ω–∏–∫ –≤—ã–ø–æ–ª–Ω–∏–ª –∑–∞–¥–∞—á—É  
**–®–∞–≥–∏:**

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç: –∫—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª, –∫–∞–∫—É—é –∑–∞–¥–∞—á—É, —Å–∫–æ–ª—å–∫–æ –æ—á–∫–æ–≤ –ø–æ–ª—É—á–∏–ª
- –ü–æ–∫–∞–∑–∞–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-026: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º —É—á–∞—Å—Ç–Ω–∏–∫–µ

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ —Å–µ–º—å–µ  
**–®–∞–≥–∏:**

1. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –ø–æ invite-–∫–æ–¥—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –í—Å–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç: –∏–º—è –∏ —Ä–æ–ª—å –Ω–æ–≤–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-027: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–∏–∑–∫–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ –ø–∏—Ç–æ–º—Ü–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞ < 20  
**–®–∞–≥–∏:**

1. –°–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
2. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –í—Å–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç: –∏–º—è –ø–∏—Ç–æ–º—Ü–∞, —Ç–µ–∫—É—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- –ü–æ–∫–∞–∑–∞–Ω –≥—Ä—É—Å—Ç–Ω—ã–π —ç–º–æ–¥–∑–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 8. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è

### TS-BOT-028: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ persistent keyboard

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ —Å–æ—Å—Ç–æ–∏—Ç –≤ —Å–µ–º—å–µ  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ª—é–±—É—é –∫–æ–º–∞–Ω–¥—É
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –í –æ—Ç–≤–µ—Ç–µ –±–æ—Ç–∞ –µ—Å—Ç—å `ReplyKeyboardMarkup`
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–Ω–æ–ø–∫–∏:
    - üè† –°–µ–º—å—è
    - ‚úÖ –ú–æ–∏ –∑–∞–¥–∞—á–∏
    - üêæ –ü–∏—Ç–æ–º–µ—Ü
    - ‚≠ê –ú–æ–∏ –æ—á–∫–∏
    - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0

---

### TS-BOT-029: –ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é  
**–®–∞–≥–∏:**

1. –ù–∞–∂–∞—Ç—å –∫–∞–∂–¥—É—é –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –ø–æ –æ—á–µ—Ä–µ–¥–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥—É–±–ª–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã `/family`, `/tasks`, `/pet`, `/stats`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-030: –ö–æ–º–∞–Ω–¥–∞ /help

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/help`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–ø—Ä–∞–≤–∫—É –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º
- –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –±–æ—Ç–∞
- –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2

---

## 9. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ–º—å—è–º–∏

### TS-BOT-031: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ–º—å–∏

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Å—Ç–æ–∏—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ–º—å—è—Ö  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/family`
2. –ù–∞–∂–∞—Ç—å "–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ [–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ–º—å–∏]"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/tasks`
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–¥–∞—á–∏ –∏–∑ –Ω–æ–≤–æ–π —Å–µ–º—å–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- `currentFamilyId` –≤ —Å–µ—Å—Å–∏–∏ –æ–±–Ω–æ–≤–ª—ë–Ω
- –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–æ–≤–æ–π —Å–µ–º—å–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

## 10. –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

### TS-BOT-032: –û—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–û—Ç–º–µ–Ω–∞"

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏  
**–®–∞–≥–∏:**

1. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "‚ùå –û—Ç–º–µ–Ω–∞"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—ã
- –°–æ—Å—Ç–æ—è–Ω–∏–µ conversation —Å–±—Ä–æ—à–µ–Ω–æ
- –ó–∞–¥–∞—á–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-033: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥–∞

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ë–æ—Ç –æ–∂–∏–¥–∞–µ—Ç —á–∏—Å–ª–æ (–æ—á–∫–∏ –∑–∞–¥–∞—á–∏)  
**–®–∞–≥–∏:**

1. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
2. –ù–∞ —à–∞–≥–µ –≤–≤–æ–¥–∞ –æ—á–∫–æ–≤ –≤–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç "abc"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏–ª –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥
- –°–æ—Å—Ç–æ—è–Ω–∏–µ conversation –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1

---

### TS-BOT-034: –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω  
**–®–∞–≥–∏:**

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å `/unknown_command`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
- –ë–æ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/help`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2

---

### TS-BOT-035: –¢–∞–π–º–∞—É—Ç conversation

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∞–ª —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏  
**–®–∞–≥–∏:**

1. –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
2. –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è > 30 –º–∏–Ω—É—Ç
3. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- –°–æ—Å—Ç–æ—è–Ω–∏–µ conversation —Å–±—Ä–æ—à–µ–Ω–æ
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–∞–π–º–∞—É—Ç–µ
- –ë–æ—Ç –ø—Ä–µ–¥–ª–æ–∂–∏–ª –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2

---

## –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤

```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ Update
private Update CreateTextUpdate(long chatId, long userId, string text)
{
  return new Update
  {
    Message = new Message
    {
      Chat = new Chat { Id = chatId },
      From = new User { Id = userId },
      Text = text,
      Date = DateTime.UtcNow
    }
  };
}

// –°–æ–∑–¥–∞–Ω–∏–µ callback Update
private Update CreateCallbackUpdate(long chatId, long userId, string data)
{
  return new Update
  {
    CallbackQuery = new CallbackQuery
    {
      Id = Guid.NewGuid().ToString(),
      From = new User { Id = userId },
      Message = new Message { Chat = new Chat { Id = chatId } },
      Data = data
    }
  };
}

// –°–æ–∑–¥–∞–Ω–∏–µ location Update
private Update CreateLocationUpdate(long chatId, long userId, double latitude, double longitude)
{
  return new Update
  {
    Message = new Message
    {
      Chat = new Chat { Id = chatId },
      From = new User { Id = userId },
      Location = new Location { Latitude = latitude, Longitude = longitude },
      Date = DateTime.UtcNow
    }
  };
}
```

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **TestTelegramBotClient:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –≤—Å–µ—Ö bot API –≤—ã–∑–æ–≤–æ–≤
2. **–†–µ–∞–ª—å–Ω–∞—è –ë–î:** –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å Testcontainers PostgreSQL
3. **Conversation State:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
4. **Assertions:** –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –∫–∞–∫ –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞, —Ç–∞–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î
5. **–ò–∑–æ–ª—è—Ü–∏—è:** –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –æ—á–∏—â–∞–µ—Ç `TestTelegramBotClient` —á–µ—Ä–µ–∑ `botClient.Clear()`

---

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

### P0 (–ö—Ä–∏—Ç–∏—á–Ω—ã–µ):

- TS-BOT-001, TS-BOT-002, TS-BOT-005, TS-BOT-006, TS-BOT-010
- TS-BOT-013, TS-BOT-014, TS-BOT-015, TS-BOT-016, TS-BOT-017
- TS-BOT-021, TS-BOT-024, TS-BOT-025, TS-BOT-028

### P1 (–í—ã—Å–æ–∫–∏–π):

- TS-BOT-003, TS-BOT-004, TS-BOT-007, TS-BOT-008, TS-BOT-009, TS-BOT-011
- TS-BOT-018, TS-BOT-019, TS-BOT-020, TS-BOT-022, TS-BOT-023
- TS-BOT-026, TS-BOT-027, TS-BOT-029, TS-BOT-031, TS-BOT-032, TS-BOT-033

### P2 (–°—Ä–µ–¥–Ω–∏–π):

- TS-BOT-012, TS-BOT-030, TS-BOT-034, TS-BOT-035
